<!DOCTYPE html>
<html lang="my">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1QLCETT57V"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-1QLCETT57V');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Florist Paradise Catalog</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #fffafb; padding: 20px; text-align: center; color: #444; }
        header { margin-bottom: 40px; }
        h1 { color: #d81b60; margin-bottom: 5px; }
        .sub-text { color: #888; font-size: 14px; }
        
        .catalog-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; max-width: 1200px; margin: 0 auto; }
        
        .product-card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.05); position: relative; padding-bottom: 20px; transition: 0.3s; border: 1px solid #f0f0f0; }
        .product-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.1); }
        
        .product-image { width: 100%; height: 280px; object-fit: cover; background-color: #f9f9f9; }
        
        .status-badge { position: absolute; top: 12px; right: 12px; padding: 6px 12px; border-radius: 20px; font-size: 11px; font-weight: bold; text-transform: uppercase; z-index: 1; }
        .available { background: #e8f5e9; color: #2e7d32; border: 1px solid #c8e6c9; }
        .sold-out { background: #ffebee; color: #c62828; border: 1px solid #ffcdd2; }
        
        .product-info { padding: 15px; }
        .product-code { font-size: 11px; color: #999; letter-spacing: 1px; margin-bottom: 5px; }
        .product-name { font-size: 20px; margin: 8px 0; color: #333; font-weight: 600; }
        .price { color: #666; font-size: 17px; margin-bottom: 20px; }
        
        .order-btn { display: inline-block; padding: 12px 40px; background: #d81b60; color: white !important; text-decoration: none; border-radius: 25px; font-size: 14px; font-weight: bold; transition: 0.3s; }
        .order-btn:hover { background: #ad1457; }
        .disabled { background: #ccc; pointer-events: none; opacity: 0.7; }
        
        #loading { font-style: italic; color: #888; margin-top: 50px; }
    </style>
</head>
<body>

    <header>
        <h1>ğŸŒ¸ Florist Paradise</h1>
        <p class="sub-text">á€…á€­á€á€ºá€€á€¼á€­á€¯á€€á€ºá€•á€”á€ºá€¸á€…á€Šá€ºá€¸á€™á€»á€¬á€¸á€€á€­á€¯ á€–á€¯á€”á€ºá€¸á€†á€€á€ºá á€™á€¾á€¬á€šá€°á€”á€­á€¯á€„á€ºá€•á€«á€á€Šá€º</p>
    </header>

    <div id="catalog" class="catalog-container">
        <p id="loading">á€•á€”á€ºá€¸á€…á€Šá€ºá€¸á€•á€¯á€¶á€…á€¶á€™á€»á€¬á€¸ á€á€„á€ºá€”á€±á€á€Šá€ºáŠ á€á€á€…á€±á€¬á€„á€·á€ºá€•á€«...</p>
    </div>

<script>
    const sheetId = '1SDQaijpBd1TvVLLLSWf5HyBn8m_rB8HvFQkmPTpbzw0';
    const base = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:json&sheet=Sheet1`;

    fetch(base)
        .then(res => res.text())
        .then(data => {
            // Google Sheet JSON á€€á€­á€¯ á€á€”á€·á€ºá€…á€„á€ºá€á€¼á€„á€ºá€¸
            const temp = data.substring(47).slice(0, -2);
            const json = JSON.parse(temp);
            const rows = json.table.rows;
            let html = '';

            // Row 1 (Header) á€€á€­á€¯ á€€á€»á€±á€¬á€ºá€•á€¼á€®á€¸ Row 2 á€€á€…á€–á€á€ºá€•á€«
            for (let i = 0; i < rows.length; i++) {
                const row = rows[i].c;
                
                // á€á€±á€«á€„á€ºá€¸á€…á€‰á€ºá€á€”á€ºá€¸á€–á€¼á€…á€ºá€”á€±á€›á€„á€º á€€á€»á€±á€¬á€ºá€á€½á€¬á€¸á€•á€«
                if (!row || (row[1] && row[1].v === "Name")) continue;

                const id = row[0] ? row[0].v : 'N/A';
                const name = row[1] ? row[1].v : 'No Name';
                const price = row[2] ? row[2].v : 'Contact';
                const status = row[3] ? row[3].v : 'Available';
                const img = row[4] ? row[4].v : 'https://via.placeholder.com/400';

                const isAvailable = status.toString().toLowerCase().trim() === 'available';

                html += `
                    <div class="product-card">
                        <span class="status-badge ${isAvailable ? 'available' : 'sold-out'}">${status}</span>
                        <img src="${img}" class="product-image" onerror="this.src='https://via.placeholder.com/400x300?text=No+Image'">
                        <div class="product-info">
                            <div class="product-code">CODE: ${id}</div>
                            <h3 class="product-name">${name}</h3>
                            <p class="price">${price} MMK</p>
                            ${isAvailable 
                                ? `<a href="tel:09676962015" class="order-btn">á€™á€¾á€¬á€šá€°á€›á€”á€º</a>` 
                                : `<a href="#" class="order-btn disabled">á€€á€¯á€”á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®</a>`}
                        </div>
                    </div>
                `;
            }
            document.getElementById('catalog').innerHTML = html;
        })
        .catch(err => {
            document.getElementById('catalog').innerHTML = "á€á€»á€­á€á€ºá€†á€€á€ºá€™á€¾á€¯ á€¡á€™á€¾á€¬á€¸á€¡á€šá€½á€„á€ºá€¸á€›á€¾á€­á€”á€±á€•á€«á€á€Šá€ºá‹";
            console.error(err);
        });
</script>
</body>
</html>
